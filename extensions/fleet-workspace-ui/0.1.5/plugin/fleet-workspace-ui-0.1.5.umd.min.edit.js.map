{"version":3,"file":"fleet-workspace-ui-0.1.5.umd.min.edit.js","mappings":"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","sources":["webpack://fleet-workspace-ui-0.1.5/./edit/management.cattle.io.fleetworkspace.vue","webpack://fleet-workspace-ui-0.1.5/./edit/management.cattle.io.fleetworkspace.vue?87d7","webpack://fleet-workspace-ui-0.1.5/./.shell/promptRemove/ sync ^\\.\\/.*$","webpack://fleet-workspace-ui-0.1.5/./.shell/assets/brand/ sync ^\\.\\/.*\\/metadata\\.json$"],"sourcesContent":["<script>\nimport CreateEditView from '@shell/mixins/create-edit-view';\nimport CruResource from '@shell/components/CruResource';\nimport Labels from '@shell/components/form/Labels';\nimport Loading from '@shell/components/Loading';\nimport NameNsDescription from '@shell/components/form/NameNsDescription';\nimport { FLEET, MANAGEMENT, SCHEMA } from '@shell/config/types';\nimport RoleBindings from '@shell/components/RoleBindings';\nimport Tabbed from '@shell/components/Tabbed';\nimport Tab from '@shell/components/Tabbed/Tab';\nimport { SCOPE_NAMESPACE, SCOPE_CLUSTER } from '@shell/components/RoleBindings.vue';\nimport { NAME as FLEET_NAME } from '@shell/config/product/fleet';\nimport { mapState } from 'vuex';\nimport { LAST_NAMESPACE, WORKSPACE } from '@shell/store/prefs';\nimport { exceptionToErrorsArray } from '@shell/utils/error';\nimport Banner from '@components/Banner/Banner.vue';\nimport ArrayList from '@shell/components/form/ArrayList.vue';\n\nexport default {\n  name: 'FleetCruWorkspace',\n\n  emits: ['input'],\n\n  inheritAttrs: false,\n  components:   {\n    CruResource,\n    Labels,\n    Loading,\n    NameNsDescription,\n    RoleBindings,\n    Tabbed,\n    Tab,\n    Banner,\n    ArrayList\n  },\n\n  mixins: [CreateEditView],\n\n  async fetch() {\n    this.rancherClusters = await this.$store.dispatch('management/findAll', { type: MANAGEMENT.CLUSTER });\n\n    if (this.$store.getters['management/schemaFor']( FLEET.CLUSTER )) {\n      this.fleetClusters = await this.$store.dispatch('management/findAll', { type: FLEET.CLUSTER });\n    }\n\n    if (this.hasRepoRestrictionSchema) {\n      const restrictions = await this.$store.dispatch('management/findAll', { type: FLEET.GIT_REPO_RESTRICTION });\n\n      const workSpaceRestriction = restrictions.find((item) => {\n        return item.metadata.namespace === this.value.metadata.name && item.metadata.name.startsWith(`restriction-${ this.value.metadata.name }`);\n      });\n\n      if (workSpaceRestriction) {\n        this.workSpaceRestriction = workSpaceRestriction;\n      }\n    }\n\n    this.restrictionsOptions = await this.$store.getters[`type-map/optionsFor`](FLEET.GIT_REPO_RESTRICTION);\n    this.restrictionsSchema = await this.$store.getters[`management/schemaFor`](FLEET.GIT_REPO_RESTRICTION);\n    this.workspacePrefix = await this.loadWorkspacePrefix();\n  },\n\n  data() {\n    this.value['spec'] = this.value.spec || {};\n\n    return {\n      fleetClusters:            null,\n      rancherClusters:          null,\n      workSpaceRestriction:     null,\n      restrictions:             [],\n      targetNamespaces:         [],\n      restrictionsSchema:       { spec: {} },\n      namespace:                this.$store.getters['prefs/get'](LAST_NAMESPACE),\n      hasRepoRestrictionSchema: !!this.$store.getters['management/schemaFor']( FLEET.GIT_REPO_RESTRICTION ),\n      workspacePrefix:          ''\n    };\n  },\n\n  methods: {\n    async saveAll(buttonCb) {\n      try {\n        if (this.isCreate) {\n          this.value.metadata = this.value.metadata || {};\n          const rawName = this.value.metadata?.name || this.value.name;\n          const prefixedName = this.applyWorkspacePrefix(rawName);\n\n          this.value.metadata.name = prefixedName;\n          this.value.name = prefixedName;\n        }\n\n        await this.value.save();\n\n        if (this.workSpaceRestriction) {\n          await this.workSpaceRestriction.save();\n        }\n\n        if (!this.workSpaceRestriction && this.targetNamespaces.length) {\n          if (!this.hasRepoRestrictionSchema) {\n            await this.$store.dispatch('management/find', { type: SCHEMA, id: FLEET.GIT_REPO_RESTRICTION }, { force: true });\n          }\n          const model = await this.$store.dispatch(`management/create`, {\n            type:                    FLEET.GIT_REPO_RESTRICTION,\n            allowedTargetNamespaces: this.targetNamespaces,\n            metadata:                {\n              name:      `restriction-${ this.value.metadata.name }-${ Date.now() }`,\n              namespace: this.value.metadata.name\n            }\n          });\n\n          await model.save();\n        }\n\n        await this.value.waitForWorkspaceSchema(20000, (schema) => {\n          return schema.collectionMethods?.includes('GET');\n        });\n\n        await this.$store.dispatch( 'management/findAll', { type: FLEET.WORKSPACE });\n\n        this.$store.commit('updateWorkspace', { value: this.value.metadata.name, getters: this.$store.getters } );\n        this.$store.dispatch('prefs/set', { key: WORKSPACE, value: this.value.metadata.name });\n\n        buttonCb(true);\n        this.done();\n      } catch (err) {\n        console.error(err) ; // eslint-disable-line no-console\n        buttonCb(false);\n        this.errors = exceptionToErrorsArray(err);\n      }\n    },\n\n    applyWorkspacePrefix(name = '') {\n      if (!this.workspacePrefix) {\n        return name;\n      }\n\n      if (name.startsWith(this.workspacePrefix)) {\n        return name;\n      }\n\n      return `${ this.workspacePrefix }${ name }`;\n    },\n\n    async loadWorkspacePrefix() {\n      try {\n        const setting = await this.$store.dispatch('management/find', {\n          type: MANAGEMENT.SETTING,\n          id:   'gorizond-workspace-prefix',\n        });\n        const prefix = typeof setting?.value === 'string' ? setting.value.trim() : '';\n\n        return prefix;\n      } catch (err) {\n        console.error('Failed to load workspace prefix setting', err); // eslint-disable-line no-console\n\n        return '';\n      }\n    }\n  },\n\n  computed: {\n    ...mapState(['allWorkspaces', 'workspace']),\n\n    allowedTargetNamespaces: {\n      get() {\n        return this.workSpaceRestriction?.allowedTargetNamespaces || [];\n      },\n\n      set(value) {\n        if (this.workSpaceRestriction) {\n          this.workSpaceRestriction.allowedTargetNamespaces = value;\n        }\n\n        this.targetNamespaces = value;\n      }\n    },\n\n    workspaceNamePreview() {\n      if (!this.isCreate) {\n        return '';\n      }\n\n      const rawName = this.value?.metadata?.name || '';\n\n      if (!rawName && !this.workspacePrefix) {\n        return '';\n      }\n\n      return this.applyWorkspacePrefix(rawName);\n    },\n\n    SCOPE_NAMESPACE() {\n      return SCOPE_NAMESPACE;\n    },\n\n    SCOPE_CLUSTER() {\n      return SCOPE_CLUSTER;\n    },\n\n    FLEET_NAME() {\n      return FLEET_NAME;\n    }\n  },\n};\n</script>\n\n<template>\n  <Loading v-if=\"$fetchState.pending\" />\n  <CruResource\n    v-else\n    :done-route=\"doneRoute\"\n    :mode=\"mode\"\n    :resource=\"value\"\n    :subtypes=\"[]\"\n    :validation-passed=\"true\"\n    :errors=\"errors\"\n    @error=\"e=>errors = e\"\n    @finish=\"saveAll\"\n    @cancel=\"done\"\n  >\n    <NameNsDescription\n      :value=\"value\"\n      :mode=\"mode\"\n      :namespaced=\"false\"\n      @update:value=\"$emit('input', $event)\"\n    />\n\n    <Banner\n      v-if=\"isCreate && (workspacePrefix || workspaceNamePreview)\"\n      color=\"info\"\n      class=\"mb-20\"\n    >\n      <div v-if=\"workspacePrefix\">\n        {{ t('fleet-workspace-ui.workspacePrefix.message', { prefix: workspacePrefix }) }}\n      </div>\n      <div v-if=\"workspaceNamePreview\">\n        {{ t('fleet-workspace-ui.workspacePrefix.preview', { name: workspaceNamePreview }) }}\n      </div>\n    </Banner>\n\n    <Tabbed\n      :side-tabs=\"true\"\n      default-tab=\"members\"\n    >\n       <Tab name=\"members\" label-key=\"generic.members\" :weight=\"2\">\n        <RoleBindings\n          ref=\"rb\"\n          :register-after-hook=\"registerAfterHook\"\n          :role-scope=\"SCOPE_CLUSTER\"\n          :binding-scope=\"SCOPE_NAMESPACE\"\n          :filter-role-value=\"FLEET_NAME\"\n          :namespace=\"value.name\"\n          :mode=\"mode\"\n          in-store=\"management\"\n        />\n      </Tab>\n\n      <Tab\n        name=\"labels\"\n        label-key=\"generic.labelsAndAnnotations\"\n      >\n        <Labels\n          :value=\"value\"\n          :mode=\"mode\"\n          @update:value=\"$emit('input', $event)\"\n        />\n      </Tab>\n      <Tab\n        name=\"allowedtargetnamespaces\"\n        label-key=\"fleet.workspaces.tabs.restrictions\"\n      >\n        <Banner\n          color=\"info\"\n        >\n          <div>\n            <t\n              k=\"fleet.restrictions.banner\"\n              :count=\"allowedTargetNamespaces.length\"\n              :raw=\"true\"\n            />\n            <a\n              v-if=\"!!allowedTargetNamespaces.length\"\n              @click=\"workSpaceRestriction.goToDetail()\"\n            >\n              {{ t('generic.here') }}\n            </a>\n          </div>\n        </Banner>\n\n        <ArrayList\n          key=\"labels\"\n          v-model:value=\"allowedTargetNamespaces\"\n          :add-label=\"t('fleet.restrictions.addLabel')\"\n          :mode=\"mode\"\n          :title=\"t('fleet.restrictions.addTitle')\"\n          :read-allowed=\"false\"\n          :value-can-be-empty=\"true\"\n        />\n      </Tab>\n    </Tabbed>\n  </CruResource>\n</template>\n","import { render } from \"./management.cattle.io.fleetworkspace.vue?vue&type=template&id=663d8d68\"\nimport script from \"./management.cattle.io.fleetworkspace.vue?vue&type=script&lang=js\"\nexport * from \"./management.cattle.io.fleetworkspace.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","var map = {\n\t\"./management.cattle.io.fleetworkspace\": 75593,\n\t\"./management.cattle.io.fleetworkspace.vue\": 75593,\n\t\"./management.cattle.io.globalrole\": 39126,\n\t\"./management.cattle.io.globalrole.vue\": 39126,\n\t\"./management.cattle.io.project\": 11193,\n\t\"./management.cattle.io.project.vue\": 11193,\n\t\"./management.cattle.io.roletemplate\": 24093,\n\t\"./management.cattle.io.roletemplate.vue\": 24093,\n\t\"./mixin/roleDeletionCheck\": 95361,\n\t\"./mixin/roleDeletionCheck.js\": 95361,\n\t\"./pod\": 4563,\n\t\"./pod.vue\": 4563\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 39989;","var map = {\n\t\"./csp/metadata.json\": 6471,\n\t\"./federal/metadata.json\": 91862,\n\t\"./harvester/metadata.json\": 51507,\n\t\"./rgs/metadata.json\": 48401,\n\t\"./suse/metadata.json\": 37259\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 93558;"],"names":["key","_ctx","$fetchState","pending","_createBlock","_component_Loading","_component_CruResource","doneRoute","mode","resource","value","subtypes","errors","onError","_cache","e","onFinish","$options","saveAll","onCancel","done","default","_withCtx","_createVNode","_component_NameNsDescription","namespaced","$event","$emit","isCreate","$data","workspacePrefix","workspaceNamePreview","_component_Banner","color","class","_createElementBlock","_hoisted_1","_toDisplayString","t","prefix","_createCommentVNode","_hoisted_2","name","_","_component_Tabbed","_component_Tab","weight","_component_RoleBindings","ref","registerAfterHook","SCOPE_CLUSTER","SCOPE_NAMESPACE","FLEET_NAME","namespace","_component_Labels","_createElementVNode","_component_t","k","count","allowedTargetNamespaces","length","raw","onClick","workSpaceRestriction","goToDetail","_component_ArrayList","title","emits","inheritAttrs","components","CruResource","Labels","Loading","NameNsDescription","RoleBindings","Tabbed","Tab","Banner","ArrayList","mixins","CreateEditView","fetch","this","rancherClusters","$store","dispatch","type","MANAGEMENT","CLUSTER","getters","FLEET","fleetClusters","hasRepoRestrictionSchema","restrictions","GIT_REPO_RESTRICTION","find","item","metadata","startsWith","restrictionsOptions","restrictionsSchema","loadWorkspacePrefix","data","spec","targetNamespaces","LAST_NAMESPACE","methods","buttonCb","rawName","prefixedName","applyWorkspacePrefix","save","SCHEMA","id","force","model","Date","now","waitForWorkspaceSchema","schema","collectionMethods","includes","WORKSPACE","commit","err","console","error","exceptionToErrorsArray","setting","SETTING","trim","computed","mapState","get","set","__exports__","render","map","webpackContext","req","webpackContextResolve","__webpack_require__","o","Error","code","keys","Object","resolve","module","exports"],"sourceRoot":""}